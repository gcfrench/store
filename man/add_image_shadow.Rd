% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/display.R
\name{add_image_shadow}
\alias{add_image_shadow}
\title{Add a shadow to an image}
\usage{
add_image_shadow(path_image)
}
\arguments{
\item{path_image}{The character string of the image path name.}
}
\value{
The path name of image returned invisibly so that the function can be
used in a piped workflow.
}
\description{
This function adds a shadow to the image, archiving the original image in a
separate archive sub-directory.
}
\details{
An internal shadow may be added when the function is called for the first time.
Calling the function a second time then adds a border shadow.
}
\section{Figures}{

\if{html}{\figure{penguins_shadow.png}{options: width=80\%}}

Artwork by @allison_horst.
}

\examples{
# example taken from Art for teaching with palmerpenguins.
# https://allisonhorst.github.io/palmerpenguins/articles/art.html

suppressPackageStartupMessages({
   library(store)
   suppressWarnings({
      library(fs)
      library(here)
      library(future)
      library(furrr)
   })
})

# create temp directory
dir_create(path(tempdir(), "figures"))

# copy image to temp directory
if(dir_exists(here("man", "figures"))) {
   file_copy(here("man", "figures", "penguins.png"),
             path(tempdir(), "figures", "penguins.png"))
}

# add shadows to graph image
plan(multisession)
path(tempdir(), "figures") \%>\% {
   suppressMessages({dir_ls(., glob = "*.png")})} \%>\%
   # internal shadow created
   future_walk(add_image_shadow,
              .options = furrr_options(seed = TRUE),
               .progress = TRUE) \%>\%
   # outer border shadow created
   future_walk(add_image_shadow,
               .options = furrr_options(seed = TRUE),
              .progress = TRUE)

# move figures from temporary directory
if(dir_exists(here("man", "figures"))) {
   file_move(path(tempdir(), "figures", "penguins.png"),
             here("man", "figures", "penguins_shadow.png"))
}
}
\seealso{
The example batch runs the function on a graph from the
\href{https://allisonhorst.github.io/palmerpenguins/articles/examples.html}{palmerpenguins package}
and is an example of parallelization using the \href{https://github.com/HenrikBengtsson/future}{future}
and \href{https://davisvaughan.github.io/furrr/}{furrr} packages.

Other image manipulation functions: 
\code{\link{reduce_image_size}()}
}
\concept{image manipulation functions}
